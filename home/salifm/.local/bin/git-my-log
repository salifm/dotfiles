#!/usr/bin/sh

od="./glogs"
mkdir -p "$od/e"
git log --format="%an" | sort > "$od/all.txt"
git log --format="%an" | sort -u > "$od/unique.txt"
git log --format="%an" --no-merges | sort > "$od/all-no-merges.txt"
git log --format="%an" --no-merges | sort -u > "$od/unique-no-merges.txt"
git log --format="%an <%ae>" | sort > "$od/e/all.txt"
git log --format="%an <%ae>" | sort -u > "$od/e/unique.txt"
git log --format="%an <%ae>" --no-merges | sort > "$od/e/all-no-merges.txt"
git log --format="%an <%ae>" --no-merges | sort -u > "$od/e/unique-no-merges.txt"
git log --format="***%n%an <%ae> %cn <%ce>" --shortstat > "$od/stat.txt"
git log --format="***%n%an <%ae> %cn <%ce>" --shortstat --no-merges > "$od/stat-no-merges.txt"
git log --format="%cn" | sort -u > "$od/c-unique.txt"
git log --format="%cn" --no-merges | sort -u > "$od/c-unique-no-merges.txt"
diff "$od/c-unique.txt" "$od/c-unique-no-merges.txt" > "$od/diff-c-unique.diff"
gio trash "$od/c-unique.txt"
gio trash "$od/c-unique-no-merges.txt"
diff "$od/unique.txt" "$od/unique-no-merges.txt" > "$od/diff-unique.diff"
diff "$od/e/unique.txt" "$od/e/unique-no-merges.txt" > "$od/e/diff-unique.diff"
diff "$od/e/all.txt" "$od/e/all-no-merges.txt" > "$od/e/diff-all.diff"
diff "$od/stat.txt" "$od/stat-no-merges.txt" > "$od/diff-stat.diff"
